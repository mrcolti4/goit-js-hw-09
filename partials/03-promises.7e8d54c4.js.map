{"mappings":"gfAAA,ICGIA,EDHEC,EAAc,CAClBC,aAAcC,SAASC,cAAc,kBACrCC,YAAaF,SAASC,cAAc,iBACpCE,cAAeH,SAASC,cAAc,mBACtCG,iBAAkBJ,SAASC,cAAc,iB,aCe3C,SAASI,EAAcC,EAAUC,IAdjC,SAAuBD,EAAUC,GAC/B,IAAMC,EAAgBC,KAAKC,SAAW,GAUtC,OATgB,IAAIC,SAAQ,SAACC,EAAKC,GAC5BL,EAEFI,EAAI,CAAEN,WAAUC,UAGhBM,EAAI,CAAEP,WAAUC,S,KAOpBO,CAAcR,EAAUC,GACrBQ,MAAK,SAAAC,G,IAAGC,EAAQD,EAARV,SAAeU,EAALT,MACjBW,EAAAC,OAAOC,QAAQ,uBAAwCC,OAAfJ,EAAS,QAAmBI,OAAbxB,EAAa,M,IAErEyB,OAAM,SAAAN,G,IAAGC,EAAQD,EAARV,SAAeU,EAALT,MAClBW,EAAAC,OAAOI,QAAQ,sBAAqCF,OAAfJ,EAAS,QAAmBI,OAAbxB,EAAa,M,IAqBvEC,EAAYM,iBAAiBoB,iBAAiB,SAjBd,SAAAC,GAC9B5B,EAAe,EACf4B,EAAEC,iBACF,IAAMC,EAAaC,OAAO9B,EAAYC,aAAa8B,OAC7CC,EAAYF,OAAO9B,EAAYI,YAAY2B,OACjDE,YAAW,W,kBAIPA,YAAW,WACT1B,EAAc2B,EAAGF,GACjBjC,GAAgBiC,C,GACfA,GAAaE,EAAI,G,EANtB3B,EAAc,EAAGsB,GACjB9B,GAAgB8B,EAChB,IAAK,IAAIM,EAAI,EAAGA,GAAKL,OAAO9B,EAAYK,cAAc0B,OAAQI,IAAGC,EAAAD,E,GAMhEN,E","sources":["src/js/refsPromise.js","src/js/03-promises.js"],"sourcesContent":["const refsPromise = {\n  promiseDelay: document.querySelector('[name=\"delay\"]'),\n  promiseStep: document.querySelector('[name=\"step\"]'),\n  promiseAmount: document.querySelector('[name=\"amount\"]'),\n  createPromiseBtn: document.querySelector('.form button'),\n};\nexport { refsPromise };\n","import { refsPromise } from './refsPromise';\nimport { Notify } from 'notiflix/build/notiflix-notify-aio';\n\nlet currentDelay;\n\nfunction createPromise(position, delay) {\n  const shouldResolve = Math.random() > 0.3;\n  const promise = new Promise((res, rej) => {\n    if (shouldResolve) {\n      // Fulfill\n      res({ position, delay });\n    } else {\n      // Reject\n      rej({ position, delay });\n    }\n  });\n  return promise;\n}\n\nfunction handlePromise(position, delay) {\n  createPromise(position, delay)\n    .then(({ position, delay }) => {\n      Notify.success(`✅ Fulfilled promise ${position} in ${currentDelay}ms`);\n    })\n    .catch(({ position, delay }) => {\n      Notify.failure(`❌ Rejected promise ${position} in ${currentDelay}ms`);\n    });\n}\n\nconst onBtnClickHandlePromise = e => {\n  currentDelay = 0;\n  e.preventDefault();\n  const firstDelay = Number(refsPromise.promiseDelay.value);\n  const stepDelay = Number(refsPromise.promiseStep.value);\n  setTimeout(() => {\n    handlePromise(1, firstDelay);\n    currentDelay += firstDelay;\n    for (let i = 2; i <= Number(refsPromise.promiseAmount.value); i++) {\n      setTimeout(() => {\n        handlePromise(i, stepDelay);\n        currentDelay += stepDelay;\n      }, stepDelay * (i - 1));\n    }\n  }, firstDelay);\n};\n\nrefsPromise.createPromiseBtn.addEventListener('click', onBtnClickHandlePromise);\n"],"names":["$ce04d3a99e08e73b$var$currentDelay","$0c416e14ab8b366b$export$6ed5f6991ffb3d3f","promiseDelay","document","querySelector","promiseStep","promiseAmount","createPromiseBtn","$ce04d3a99e08e73b$var$handlePromise","position","delay","shouldResolve","Math","random","Promise","res","rej","$ce04d3a99e08e73b$var$createPromise","then","param","_$position","$h6c0i","Notify","success","concat","catch","failure","addEventListener","e","preventDefault","firstDelay","Number","value","stepDelay","setTimeout","i","i1","_loop"],"version":3,"file":"03-promises.7e8d54c4.js.map"}